<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Vault</title>

<style>
body{
  margin:0;
  font-family:sans-serif;
  background:#020617;
  color:#fff;
  padding:20px;
}
.header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:16px;
}
button{
  background:#2563eb;
  border:none;
  color:#fff;
  padding:8px 14px;
  border-radius:10px;
  cursor:pointer;
}
textarea{
  width:100%;
  height:220px;
  border-radius:14px;
  border:none;
  padding:14px;
  font-size:15px;
}
.note{
  margin-top:20px;
  padding:14px;
  background:rgba(2,6,23,.8);
  border-radius:14px;
  box-shadow:0 10px 30px rgba(0,0,0,.5);
  white-space:pre-wrap;
}
</style>
</head>

<body>

<script>
(function secure(){
  if(sessionStorage.getItem("auth")!=="ok"){
    location.replace("index.html");
  }
})();
</script>

<div class="header">
  <h2 id="title">Vault</h2>
  <button onclick="back()">‚Üê ‡∏Å‡∏•‡∏±‡∏ö</button>
</div>

<textarea id="text" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏£‡∏´‡∏±‡∏™ / ‡πÇ‡∏ô‡πâ‡∏ï"></textarea>
<button onclick="save()">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>

<div class="note" id="view"></div>

<script>
const type = localStorage.getItem("vault_type") || "default";
const KEY = "vault_note_" + type;

document.getElementById("title").innerText = "üîê " + type.toUpperCase();

function save(){
  localStorage.setItem(KEY, document.getElementById("text").value);
  load();
}
function load(){
  const t = localStorage.getItem(KEY) || "";
  document.getElementById("text").value = t;
  document.getElementById("view").innerText = t;
}
function back(){
  location.replace("dashboard.html");
}
load();
</script>

</body>
</html>
