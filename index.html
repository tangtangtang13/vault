<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Secure Vault</title>

<!-- PWA -->
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#020617">

<style>
*{box-sizing:border-box}
body{
  margin:0;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:radial-gradient(circle at top,#0ea5e9,#020617 65%);
  font-family:sans-serif;
  overflow:hidden;
  color:#fff;
}

/* animated glow background */
.bg1,.bg2{
  position:absolute;
  width:520px;
  height:520px;
  border-radius:50%;
  filter:blur(140px);
  opacity:.6;
  animation:float 10s infinite alternate;
}
.bg1{background:#3b82f6;top:-120px;left:-120px}
.bg2{background:#22d3ee;bottom:-120px;right:-120px;animation-delay:3s}

@keyframes float{
  from{transform:translateY(-40px)}
  to{transform:translateY(40px)}
}

/* login card */
.card{
  position:relative;
  z-index:10;
  width:320px;
  padding:30px;
  border-radius:20px;
  background:rgba(2,6,23,.75);
  backdrop-filter:blur(18px);
  box-shadow:0 30px 90px rgba(0,0,0,.8);
  text-align:center;
  animation:fadeIn .8s ease;
}

@keyframes fadeIn{
  from{opacity:0;transform:translateY(40px)}
  to{opacity:1}
}

h2{
  margin:0 0 20px;
  font-weight:600;
}

input{
  width:100%;
  padding:12px;
  border-radius:10px;
  border:none;
  outline:none;
  font-size:15px;
  margin-bottom:14px;
}

button{
  width:100%;
  padding:12px;
  border:none;
  border-radius:10px;
  background:linear-gradient(135deg,#2563eb,#38bdf8);
  color:#fff;
  font-size:16px;
  cursor:pointer;
  transition:.2s;
}
button:hover{
  transform:translateY(-2px);
  box-shadow:0 10px 30px rgba(56,189,248,.6);
}

.error{
  color:#f87171;
  min-height:18px;
}

/* shake when error */
.shake{animation:shake .35s}
@keyframes shake{
  0%,100%{transform:translateX(0)}
  25%{transform:translateX(-6px)}
  50%{transform:translateX(6px)}
  75%{transform:translateX(-6px)}
}
</style>
</head>

<body>

<!-- glow background -->
<div class="bg1"></div>
<div class="bg2"></div>

<!-- login card -->
<div class="card" id="card">
  <h2>üîê Vault ‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</h2>
  <input type="password" id="password" placeholder="Master Password">
  <button onclick="login()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
  <div class="error" id="error"></div>
</div>

<!-- auth logic -->
<script src="js/auth.js"></script>

<!-- animation when wrong password -->
<script>
const _login = login;
login = function(){
  _login();
  setTimeout(()=>{
    if(document.getElementById("error").innerText){
      const card=document.getElementById("card");
      card.classList.add("shake");
      setTimeout(()=>card.classList.remove("shake"),400);
    }
  },50);
}
</script>

<!-- register service worker -->
<script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("js/sw.js");
}
</script>

</body>
</html>
